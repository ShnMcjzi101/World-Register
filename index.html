<!DOCTYPE html>
<html>
<head>
  <title>World Register</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="background:#111;color:white;text-align:center;font-family:sans-serif">

<h1>ğŸŒ World Register</h1>
<p>Sign in daily to show you exist.</p>

<input id="email" placeholder="Email"><br><br>
<input id="password" type="password" placeholder="Password"><br><br>

<button onclick="register()">Register</button><br><br>
<button onclick="login()">Login</button><br><br>
<button onclick="checkIn()">Daily Check-In</button>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyCZDxxdy9UGYAA5lYFAthTrRA5VYJF65VY",
  authDomain: "world-register-77214.firebaseapp.com",
  projectId: "world-register-77214",
  storageBucket: "world-register-77214.firebasestorage.app",
  messagingSenderId: "1025940476888",
  appId: "1:1025940476888:web:d2d2751e6a70e9028918ad"
});

const auth = firebase.auth();
const db = firebase.database();

function register(){
  auth.createUserWithEmailAndPassword(email.value,password.value)
  .then(()=>alert("Registered"))
  .catch(e=>alert(e.message));
}

function login(){
  auth.signInWithEmailAndPassword(email.value,password.value)
  .then(()=>alert("Logged in"))
  .catch(e=>alert(e.message));
}

function checkIn(){
  const user = auth.currentUser;
  if(!user){ alert("Login first"); return; }
  const d = new Date().toISOString().slice(0,10);
  db.ref("checkins/"+user.uid+"/"+d).set(true);
  alert("Checked in today âœ…");
}
</script>

</body>
</html>
